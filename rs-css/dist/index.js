(()=>{"use strict";var e={585:(e,t,l)=>{l.r(t)},400:(e,t,l)=>{l.r(t)},190:(e,t,l)=>{l.r(t)},573:(e,t,l)=>{l.r(t)},735:(e,t,l)=>{l.r(t)},660:(e,t,l)=>{l.r(t)},213:(e,t,l)=>{l.r(t)},962:function(e,t,l){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=s(l(262)),n=l(469),i=l(565),c=l(434),r=l(377),o=l(971),u=l(570),_=l(868),d=l(875);t.default=class{constructor(){this.currLevel=Number(localStorage.getItem(n.Params.currLevel))||0,this.clueStates=localStorage.getItem(n.Params.clueStates),this.isClue=!1,this.clueCount=Number(localStorage.getItem(n.Params.clueCount))||0,this.createView()}createView(){const e=document.querySelector(".app"),t=document.querySelector(".container"),l=document.querySelector(".header"),s=document.querySelector(".app__wrapper"),p=document.querySelector(".content__functionality-wrapper"),m=document.querySelector(".left-part"),v=(0,o.createViewer)(),f=(0,c.createGamefield)(),h=(0,r.createEditor)(),y=(0,u.createSidebar)(),w=(0,_.createFooter)(),S=(0,d.createPopup)();p&&(p.append(h,v),(0,o.loadViewer)(a.default[this.currLevel]),t&&(t.insertBefore(f,p),(0,c.loadGamefield)(a.default[this.currLevel]))),s&&(s.append(y),(0,u.loadSidebar)(a.default[this.currLevel])),m&&m.append(w),e&&e.append(S);const k=document.querySelector(".editor__entry-field"),g=document.querySelector(".editor__enter-btn");g&&(g.addEventListener("click",(e=>{e.preventDefault(),this.checkSelector()})),k&&k.addEventListener("keyup",(e=>{"Enter"===e.code&&g.click()})));const b=document.querySelector(".view__help-btn");b&&b.addEventListener("click",(e=>{e.preventDefault(),this.isClue=!0,this.clueCount+=1,localStorage.setItem(n.Params.clueCount,String(this.currLevel)),i.Emitter.emit("help",a.default[this.currLevel])}));const L=document.querySelector(".level__reset-btn");L&&L.addEventListener("click",(e=>{e.preventDefault(),this.reset()}));const E=document.querySelector(".popup__btn");E&&E.addEventListener("click",(e=>{e.preventDefault(),this.reset()}));const q=document.querySelector(".popup__close-btn");q&&q.addEventListener("click",(e=>{e.preventDefault();const t=document.querySelector(".popup-overlay");t&&!t.classList.contains("popup-overlay--off")&&t.classList.add("popup-overlay--off")})),l&&l.addEventListener("click",(e=>{const{target:t}=e;t&&"BUTTON"===t.tagName&&t.classList.contains("header__burger-btn")&&(y.classList.contains("level--active")?y.classList.remove("level--active"):y.classList.add("level--active"))})),i.Emitter.on("changeLevel",(e=>{const t=a.default.findIndex((t=>t.title===e.title));this.currLevel=t,localStorage.setItem(n.Params.currLevel,String(this.currLevel))}))}checkSelector(){const e=document.querySelector(".editor__entry-field");if(e){const t=e.value.split(/\s+/).join("");if(""!==t&&a.default[this.currLevel].selector.includes(t))this.currLevel<a.default.length-1?(this.currLevel+=1,localStorage.setItem(n.Params.currLevel,String(this.currLevel)),i.Emitter.emit("checkSelector",a.default[this.currLevel],this.currLevel-1,this.isClue),e.value="",this.isClue=!1):(localStorage.setItem(n.Params.currLevel,String(this.currLevel)),i.Emitter.emit("checkSelector",a.default[this.currLevel],this.currLevel-1,this.isClue),0===this.clueCount?i.Emitter.emit("win","win"):i.Emitter.emit("lose","lose",this.clueCount));else{const e=document.querySelector(".content__functionality-wrapper");e&&(e.classList.add("shake-horizontal"),setTimeout((()=>{e.classList.remove("shake-horizontal")}),800))}}}reset(){localStorage.clear(),this.currLevel=0,this.clueCount=0,this.clueStates=JSON.stringify(Array(10).fill("unknown")),localStorage.setItem(n.Params.clueStates,this.clueStates),i.Emitter.emit("reset",a.default[this.currLevel])}}},377:(e,t,l)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createEditor=void 0,l(585);const s=l(565);t.createEditor=function(){const e=document.createElement("section");return e&&(e.className="editor content__editor",e.innerHTML+='\n      <header class="editor__header">\n          <span>CSS Editor</span>\n          <span>style.css</span>\n      </header>\n      <div class="workspace editor__workspace">\n          <ul class="workspace__line-list">\n              <li class="workspace__line-item">1</li>\n              <li class="workspace__line-item">2</li>\n              <li class="workspace__line-item">3</li>\n              <li class="workspace__line-item">4</li>\n              <li class="workspace__line-item">5</li>\n              <li class="workspace__line-item">6</li>\n              <li class="workspace__line-item">7</li>\n              <li class="workspace__line-item">8</li>\n              <li class="workspace__line-item">9</li>\n              <li class="workspace__line-item">10</li>\n              <li class="workspace__line-item">11</li>\n              <li class="workspace__line-item">12</li>\n              <li class="workspace__line-item">13</li>\n              <li class="workspace__line-item">14</li>\n              <li class="workspace__line-item">15</li>\n              <li class="workspace__line-item">16</li>\n              <li class="workspace__line-item">17</li>\n              <li class="workspace__line-item">18</li>\n              <li class="workspace__line-item">19</li>\n              <li class="workspace__line-item">20</li>\n          </ul>\n          <label for="entry-field" class="editor__wrapper">\n              <input id="entry-field" class="editor__entry-field" type="text" placeholder="Type a selector">\n              <button type="button" class="editor__enter-btn">enter</button>\n          </label>\n      </div>\n      '),s.Emitter.on("help",(e=>{!function(e){const t=e.selector[0],l=document.querySelector(".editor__entry-field");if(l){l.value="";let s=0;function a(){s<t.length&&l&&(l.value+=t.charAt(s),s++,setTimeout(a,100))}a(),l.focus()}}(e)})),s.Emitter.on("reset",(()=>{const e=document.querySelector(".editor__entry-field");e&&(e.value="")})),s.Emitter.on("changeLevel",(()=>{const e=document.querySelector(".editor__entry-field");e&&(e.value="")})),e}},868:function(e,t,l){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createFooter=void 0,l(400);const a=s(l(151)),n=s(l(708));t.createFooter=function(){const e=document.createElement("footer"),t=new Date;return e.classList.add("footer"),e.innerHTML=`\n            <div class="footer__links-wrapper">\n                <a class="footer__link" href="https://github.com/idiamondcat" target="_blank">\n                    <img class="footer__icon footer__icon--git" src=${n.default}>\n                </a>\n                <a class="footer__link" href="https://rs.school/js/" target="_blank">\n                    <img class="footer__icon footer__icon--rss" src=${a.default}>\n                </a>\n            </div>\n            <span class="footer__year">${t.getFullYear()}</span>\n        `,e}},434:(e,t,l)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.loadGamefield=t.createGamefield=void 0,l(190);const s=l(565);function a(e){const t=document.querySelector(".title"),l=document.querySelector(".view__drinks-wrapper");if(t&&(t.innerText=e.title),l){l.innerHTML=e.markup;const t=l.querySelectorAll(`${e.selector[0]}`);t&&t.forEach((e=>{e.classList.add("bounce-6")}))}}t.createGamefield=function(){const e=document.createElement("section");return e&&(e.className="view content__view",e.innerHTML+='\n            <h1 class="title view__title"></h1>\n            <button class="view__help-btn">Help, I\'m stuck!</button>\n            <div class="view__gamefield">\n                <div class="view__drinks-wrapper">\n                </div>\n                <div class="view__table"></div>\n            </div>\n        ',s.Emitter.on("checkSelector",(e=>{a(e)})),s.Emitter.on("changeLevel",(e=>{a(e)})),s.Emitter.on("reset",(e=>{a(e)}))),e},t.loadGamefield=a},875:(e,t,l)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createPopup=void 0,l(573);const s=l(565);function a(e,t){const l=document.querySelector(".popup-overlay"),s=document.querySelector(".popup__title"),a=document.querySelector(".popup__text");l&&l.classList.remove("popup-overlay--off"),e&&("win"===e?s&&a&&(s.textContent="You Win!",a.textContent="You didn't use any hints"):s&&a&&(s.textContent="You Lose!",t&&(a.textContent=`You used ${t} hints`)))}t.createPopup=function(){const e=document.createElement("div");return e&&(e.className="popup-overlay popup-overlay--off",e.innerHTML+='\n       <section class="popup">\n        <button class="popup__close-btn"></button>\n        <div class="popup__wrapper">\n            <h2 class="popup__title"></h2>\n            <p class="popup__text"></p>\n            <button class="popup__btn">try again</button>\n        <div>\n       </section>\n       '),s.Emitter.on("win",(e=>{a(e)})),s.Emitter.on("lose",((e,t)=>{a(e,t)})),s.Emitter.on("reset",(()=>{const e=document.querySelector(".popup-overlay");e&&!e.classList.contains("popup-overlay--off")&&e.classList.add("popup-overlay--off")})),e}},570:function(e,t,l){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.loadSidebar=t.createSidebar=void 0,l(735);const a=l(565),n=l(469),i=s(l(262));function c(e){const t=localStorage.getItem(n.Params.clueStates),l=null!==t?JSON.parse(t):Array(10).fill("unknown"),s=i.default.findIndex((t=>t.title===e.title)),c=document.querySelectorAll(".level__item");-1!==s&&c&&c.forEach(((e,t)=>{const n=e.querySelector(".level__indicator");l&&0!==l.length&&("clue"===l[t]?null==n||n.classList.add("clue"):"correct"===l[t]&&(null==n||n.classList.add("correct"))),c[t].classList.contains("active")&&c[t].classList.remove("active"),t===s&&c[t].classList.add("active"),e.addEventListener("click",(l=>{const s=document.querySelector(".level__item.active"),n=document.querySelector(".level");l.preventDefault(),a.Emitter.emit("changeLevel",i.default[t]),null==s||s.classList.remove("active"),e.classList.add("active"),null==n||n.classList.remove("level--active")}))}))}t.createSidebar=function(){const e=document.createElement("aside");return e.className="level",e.innerHTML='\n        <ul class="level__list">\n            <li class="level__item">\n                <span class="level__num">1</span><span class="level__indicator"></span>\n            </li>\n            <li class="level__item">\n                <span class="level__num">2</span><span class="level__indicator"></span>\n            </li>\n            <li class="level__item">\n                <span class="level__num">3</span><span class="level__indicator"></span>\n            </li>\n            <li class="level__item">\n                <span class="level__num">4</span><span class="level__indicator"></span>\n            </li>\n            <li class="level__item">\n                <span class="level__num">5</span><span class="level__indicator"></span>\n            </li>\n            <li class="level__item">\n                <span class="level__num">6</span><span class="level__indicator"></span>\n            </li>\n            <li class="level__item">\n                <span class="level__num">7</span><span class="level__indicator"></span>\n            </li>\n            <li class="level__item">\n                <span class="level__num">8</span><span class="level__indicator"></span>\n            </li>\n            <li class="level__item">\n                <span class="level__num">9</span><span class="level__indicator"></span>\n            </li>\n            <li class="level__item">\n                <span class="level__num">10</span><span class="level__indicator"></span>\n            </li>\n        </ul>\n        <button class="level__reset-btn">Reset Progress</button>\n    ',a.Emitter.on("checkSelector",((e,t,l)=>{!function(e,t){const l=localStorage.getItem(n.Params.clueStates),s=null!==l?JSON.parse(l):Array(10).fill("unknown"),a=document.querySelector(".level__item.active");if(a){const l=a.querySelector(".level__indicator");l&&(!0===e?(l.classList.add("clue"),s[t]="clue",localStorage.setItem(n.Params.clueStates,JSON.stringify(s))):!1===e&&(l.classList.add("correct"),s[t]="correct",localStorage.setItem(n.Params.clueStates,JSON.stringify(s))))}}(l,t),c(e)})),a.Emitter.on("reset",(e=>{const t=document.querySelectorAll(".level__item"),l=document.querySelector(".level");t&&t.forEach((e=>{const t=e.querySelector(".level__indicator");t&&(t.classList.remove("clue"),t.classList.remove("correct"))})),null==l||l.classList.remove("level--active"),localStorage.removeItem(n.Params.clueStates),c(e)})),e},t.loadSidebar=c},971:(e,t,l)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.loadViewer=t.createViewer=void 0,l(660);const s=l(565);function a(e){const t=document.querySelector(".workspace__code");t&&(t.innerText=e.markup)}t.createViewer=function(){const e=document.createElement("section");return e.className="viewer content__viewer",e.innerHTML='\n    <header class="viewer__header">\n        <span>HTML Viewer</span>\n        <span>table.html</span>\n    </header>\n    <div class="workspace viewer__workspace">\n        <ul class="workspace__line-list">\n            <li class="workspace__line-item">1</li>\n            <li class="workspace__line-item">2</li>\n            <li class="workspace__line-item">3</li>\n            <li class="workspace__line-item">4</li>\n            <li class="workspace__line-item">5</li>\n            <li class="workspace__line-item">6</li>\n            <li class="workspace__line-item">7</li>\n            <li class="workspace__line-item">8</li>\n            <li class="workspace__line-item">9</li>\n            <li class="workspace__line-item">10</li>\n            <li class="workspace__line-item">11</li>\n            <li class="workspace__line-item">12</li>\n            <li class="workspace__line-item">13</li>\n            <li class="workspace__line-item">14</li>\n            <li class="workspace__line-item">15</li>\n            <li class="workspace__line-item">16</li>\n            <li class="workspace__line-item">17</li>\n            <li class="workspace__line-item">18</li>\n            <li class="workspace__line-item">19</li>\n            <li class="workspace__line-item">20</li>\n        </ul>\n        <p class="workspace__code"></p>\n    </div>\n    ',s.Emitter.on("checkSelector",(e=>{a(e)})),s.Emitter.on("reset",(e=>{a(e)})),s.Emitter.on("changeLevel",(e=>{a(e)})),e},t.loadViewer=a},565:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Emitter=void 0;class l{static on(e,t){var l;const s=null!==(l=this.events[e])&&void 0!==l?l:new Set;s.add(t),this.events[e]=s}static emit(e,...t){var l;const s=null!==(l=this.events[e])&&void 0!==l?l:new Set;for(const e of s)e(...t)}static off(e,t){if(!this.events[e])return;const l=this.events[e].has(t)?Array.from(this.events[e]).indexOf(t):null;l&&-1!==l&&Array.from(this.events[e]).splice(l,1)}}t.Emitter=l,l.events={}},469:(e,t)=>{var l;Object.defineProperty(t,"__esModule",{value:!0}),t.Params=void 0,function(e){e.currLevel="level",e.clueCount="cluecount",e.clueStates="clueStates"}(l||(t.Params=l={}))},262:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=[{title:"Select all tea",selector:["tea","*"],markup:'<tea class="thai"></tea>\n            <tea class="matcha-latte"></tea>\n            <tea class="taiwanese"></tea>\n        '},{title:"Select green tea",selector:[".green","tea:nth-child(2)"],markup:'<tea class="black"></tea>\n            <tea class="green"></tea>\n            <tea class="black"></tea>\n        '},{title:"Select black tea and taiwanese tea",selector:["tea:nth-of-type(2n+2)","tea:nth-of-type(even)"],markup:'<tea class="matcha-latte"></tea>\n            <tea class="black"></tea>\n            <tea class="thai"></tea>\n            <tea class="taiwanese"></tea>\n        '},{title:"Select strawberry tea",selector:["#strawberry","tea:first-child"],markup:'<tea id="strawberry"></tea>\n            <tea class="matcha-latte"></tea>\n            <icedtea class="lime"></icedtea>\n        '},{title:"Select all drinks",selector:["*"],markup:'<tea class="black"></tea>\n            <icedtea class="lime"></icedtea>\n            <soda class="yuzu"></soda>\n        '},{title:"Select lychee soda, using + selector",selector:[".melon+.lychee",".lychee"],markup:'<soda class="yuzu"></soda>\n            <soda class="melon"></soda>\n            <soda class="lychee"></soda>\n        '},{title:"Select soda, using ~ selector",selector:["icedtea~soda"],markup:'<icedtea class="ginger"></icedtea>\n            <soda class="melon"></soda>\n            <tea class="thai"></tea>\n            <soda class="lychee"></soda>\n        '},{title:"Select first icedtea",selector:["icedtea:first-child"],markup:'<icedtea class="thai"></icedtea>\n            <icedtea class="lychee"></icedtea>\n            <icedtea class="lime"></icedtea>\n        '},{title:"Select all tea except last one",selector:["tea:not(:last-child)"],markup:'<tea class="green"></tea>\n            <tea class="taiwanese"></tea>\n            <tea class="matcha-latte"></tea>\n        '},{title:"Select only one drink",selector:["icedtea:only-of-type"],markup:'<tea class="thai"></tea>\n            <icedtea class="lychee"></icedtea>\n            <soda class="yuzu"></soda>\n            <tea id="strawberry""></tea>\n            <tea class="black"></tea>\n            <soda class="melon"></soda>\n        '}]},607:function(e,t,l){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),l(213),new(s(l(962)).default)},708:(e,t,l)=>{e.exports=l.p+"img/github.svg"},151:(e,t,l)=>{e.exports=l.p+"img/rs_school_js.svg"}},t={};function l(s){var a=t[s];if(void 0!==a)return a.exports;var n=t[s]={exports:{}};return e[s].call(n.exports,n,n.exports,l),n.exports}l.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),l.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;l.g.importScripts&&(e=l.g.location+"");var t=l.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var s=t.getElementsByTagName("script");if(s.length)for(var a=s.length-1;a>-1&&!e;)e=s[a--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),l.p=e})(),l(607)})();
//# sourceMappingURL=index.js.map