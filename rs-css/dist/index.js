(()=>{"use strict";var e={585:(e,t,s)=>{s.r(t)},400:(e,t,s)=>{s.r(t)},190:(e,t,s)=>{s.r(t)},417:(e,t,s)=>{s.r(t)},573:(e,t,s)=>{s.r(t)},735:(e,t,s)=>{s.r(t)},660:(e,t,s)=>{s.r(t)},213:(e,t,s)=>{s.r(t)},962:function(e,t,s){var l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=s(469),i=s(565),r=l(s(409)),n=l(s(570)),c=l(s(434)),o=l(s(971)),d=l(s(377)),u=l(s(868)),m=l(s(262));function p(e,t){const s=document.querySelector(".app"),l=document.createElement("div"),a=document.createElement("div"),m=document.createElement("div"),p=document.createElement("div"),_=document.createElement("main"),h=(new r.default).createHeader(),v=(new u.default).createFooter(),f=new n.default(e[t-1],e).createSideBar(),g=new o.default(e[t-1],e).createViewer(),w=new c.default(e[t-1],e).createGamefield(),S=new d.default(e[t-1],e).createEditor();l.className="app__wrapper",a.className="container",m.className="content__functionality-wrapper",p.className="app__left-part",_.className="content app__content",m.append(S,g),a.append(w,m),l.append(p,f),_.append(a),p.append(h,_,v),s&&s.append(l),i.Emitter.emit("init",e[t-1],e)}t.default=function(){const e=Number(localStorage.getItem(a.Params.currLevel))||1;let t,s=localStorage.getItem(a.Params.levels)||null;1===e&&localStorage.setItem(a.Params.currLevel,JSON.stringify(e)),s?(t=JSON.parse(s),p(t,e)):(localStorage.setItem(a.Params.levels,JSON.stringify(m.default)),s=localStorage.getItem(a.Params.levels),s&&(t=JSON.parse(s),p(t,e)))}},377:function(e,t,s){var l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),s(585);const a=s(469),i=s(565),r=l(s(875));t.default=class{constructor(e,t){this.lvl=e,this.lvls=t,this.lvl=e,this.lvls=t,this.currLevel=Number(localStorage.getItem(a.Params.currLevel))||1,this.isClue=!1,this.clueCount=Number(localStorage.getItem(a.Params.clueCount))||0,this.correctAnswers=Number(localStorage.getItem(a.Params.correctanswers))||0,i.Emitter.on("help",((e,t)=>{this.clueCount=t,this.help(e)})),i.Emitter.on("reset",((e,t,s,l,a)=>{const i=document.querySelector(".editor__entry-field");this.isClue=!1,this.lvl=e,this.currLevel=t,this.clueCount=s,this.correctAnswers=l,this.lvls=a,i&&(i.value="")})),i.Emitter.on("changeLevel",(e=>{this.lvl=e,this.currLevel=e.id;const t=document.querySelector(".editor__entry-field");t&&(t.value="")}))}createEditor(){const e=document.createElement("section");return e.className="editor content__editor",e.innerHTML='\n    <header class="editor__header">\n      <span>CSS Editor</span>\n      <span>style.css</span>\n    </header>\n    <div class="workspace editor__workspace">\n        <ul class="workspace__line-list">\n            <li class="workspace__line-item">1</li>\n            <li class="workspace__line-item">2</li>\n            <li class="workspace__line-item">3</li>\n            <li class="workspace__line-item">4</li>\n            <li class="workspace__line-item">5</li>\n            <li class="workspace__line-item">6</li>\n            <li class="workspace__line-item">7</li>\n            <li class="workspace__line-item">8</li>\n            <li class="workspace__line-item">9</li>\n            <li class="workspace__line-item">10</li>\n            <li class="workspace__line-item">11</li>\n            <li class="workspace__line-item">12</li>\n            <li class="workspace__line-item">13</li>\n            <li class="workspace__line-item">14</li>\n            <li class="workspace__line-item">15</li>\n            <li class="workspace__line-item">16</li>\n            <li class="workspace__line-item">17</li>\n            <li class="workspace__line-item">18</li>\n            <li class="workspace__line-item">19</li>\n            <li class="workspace__line-item">20</li>\n        </ul>\n        <label for="entry-field" class="editor__wrapper">\n            <input id="entry-field" class="editor__entry-field" type="text" placeholder="Type a selector">\n            <button type="button" class="editor__enter-btn">enter</button>\n        </label>\n    </div>\n    ',e.addEventListener("click",(e=>{const{target:t}=e;"BUTTON"===t.tagName&&t.classList.contains("editor__enter-btn")&&(e.preventDefault(),this.newCheckSelector())})),e.addEventListener("keyup",(e=>{if("Enter"===e.code){const e=document.querySelector(".editor__enter-btn");e&&e.click()}})),e}help(e){const t=e,s=document.querySelector(".editor__entry-field");if(s){s.value="";let e=0;const l=()=>{e<t.length&&s&&(s.value+=t.charAt(e),e++,setTimeout(l,100))};l(),this.isClue=!0,s.focus()}}newCheckSelector(){const e=document.querySelector(".editor__entry-field");let t,s,l;if(e){const r=e.value.split(/\s+/).join("");if(""!==r&&this.lvl.selector.includes(r))this.correctAnswers+=1,localStorage.setItem(a.Params.correctanswers,String(this.correctAnswers)),this.correctAnswers<this.lvls.length?(s=this.lvl,this.lvls[this.currLevel-1].state===a.States.NotCompleted?(t=!1===this.isClue?a.States.Completed:a.States.Clue,this.lvls[this.currLevel-1].state=t,localStorage.setItem(a.Params.levels,JSON.stringify(this.lvls)),l=this.lvls.find((e=>e.state===a.States.NotCompleted)),l&&(this.currLevel=l.id,this.lvl=this.lvls[this.currLevel-1],localStorage.setItem(a.Params.currLevel,String(this.currLevel))),i.Emitter.emit("checkSelector",this.lvl,s,t)):(l=this.lvls.find((e=>e.state===a.States.NotCompleted)),l&&(this.currLevel=l.id,this.lvl=this.lvls[this.currLevel-1],localStorage.setItem(a.Params.currLevel,String(this.currLevel)))),e.value="",this.isClue=!1):0===this.clueCount?this.openPopup("win"):this.openPopup("lose",this.clueCount);else{const e=document.querySelector(".content__functionality-wrapper");e&&(e.classList.add("shake-horizontal"),setTimeout((()=>{e.classList.remove("shake-horizontal")}),800))}}}openPopup(e,t){const s=document.querySelector(".app");let l;l=t?new r.default(e,t).createPopup():new r.default(e).createPopup(),s&&s.append(l)}}},868:function(e,t,s){var l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),s(400);const a=l(s(395)),i=l(s(905));t.default=class{createFooter(){const e=document.createElement("footer"),t=new Date;return e.classList.add("footer"),e.innerHTML=`\n      <div class="footer__links-wrapper">\n          <a class="footer__link" href="https://github.com/idiamondcat" target="_blank">\n              <img class="footer__icon footer__icon--git" src=${i.default}>\n          </a>\n          <a class="footer__link" href="https://rs.school/js/" target="_blank">\n              <img class="footer__icon footer__icon--rss" src=${a.default}>\n          </a>\n      </div>\n      <span class="footer__year">${t.getFullYear()}</span>\n    `,e}}},434:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),s(190);const l=s(565),a=s(469);t.default=class{constructor(e,t){this.lvl=e,this.lvls=t,this.lvl=e,this.lvls=t,this.clueCount=Number(localStorage.getItem(a.Params.clueCount))||0,this.currLevel=Number(localStorage.getItem(a.Params.currLevel))||1,l.Emitter.on("checkSelector",(e=>{this.lvl=e,this.loadGamefield()})),l.Emitter.on("changeLevel",(e=>{this.lvl=e,this.loadGamefield()})),l.Emitter.on("reset",((e,t,s,l,a)=>{this.lvl=e,this.currLevel=t,this.clueCount=s,this.lvls=a,this.loadGamefield()})),l.Emitter.on("init",(e=>{this.lvl=e,this.loadGamefield()}))}createGamefield(){const e=document.createElement("section");return e.className="view content__view",e.innerHTML+='\n      <h1 class="title view__title"></h1>\n      <button class="view__help-btn">Help, I\'m stuck!</button>\n      <div class="view__gamefield">\n        <div class="view__drinks-wrapper">\n        </div>\n        <div class="view__table"></div>\n      </div>\n    ',e.addEventListener("click",(e=>{const{target:t}=e;t&&"BUTTON"===t.tagName&&t.classList.contains("view__help-btn")&&(e.preventDefault(),this.lvl.state===a.States.NotCompleted?(this.clueCount+=1,localStorage.setItem(a.Params.clueCount,String(this.clueCount)),l.Emitter.emit("help",this.lvl.selector[0],this.clueCount)):console.log("This level is already completed: "+this.lvl.state))})),e}loadGamefield(){const e=document.querySelector(".title"),t=document.querySelector(".view__drinks-wrapper");if(e&&(e.innerText=this.lvl.title),t){t.innerHTML=this.lvl.markup;const e=t.querySelectorAll(`${this.lvl.selector[0]}`);e&&e.forEach((e=>{e.classList.add("bounce-6")}))}}}},409:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),s(417),t.default=class{createHeader(){const e=document.createElement("header");return e.classList.add("header"),e.innerHTML='\n      <div class="header__container">\n        <div class="header__logo-wrapper">\n          <img class="logo header__logo" src="./img/logo.svg" alt="Logo">\n          <div class="header__text-logo">\n            <span class="header__large-text">CSS</span>\n            <span class="header__small-text">barista</span>\n          </div>\n        </div>\n        <button class="header__burger-btn header__burger-btn--hidden">\n          <span class="header__btn-line"></span>\n        </button>\n      </div>\n      ',e.addEventListener("click",(e=>{e.preventDefault();const{target:t}=e,s=document.querySelector(".level");t&&"BUTTON"===t.tagName&&t.classList.contains("header__burger-btn")&&s&&(s.classList.contains("level--active")?s.classList.remove("level--active"):s.classList.add("level--active"))})),e}}},875:function(e,t,s){var l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),s(573);const a=l(s(80));t.default=class{constructor(e,t){this.state=e,this.clues=t,this.state=e,this.clues=t}createPopup(){const e=document.createElement("div");return e.className="popup-overlay",e.innerHTML+=`\n      <section class="popup">\n        <button class="popup__close-btn" type="button"></button>\n        <div class="popup__wrapper">\n            <h2 class="popup__title">${"win"===this.state?"You Win!":"You Lose!"}</h2>\n            <p class="popup__text">${this.clues?"You used "+this.clues+" hints":""}</p>\n            <button class="popup__btn" type="button">try again</button>\n        <div>\n      </section>\n      `,e.addEventListener("click",(e=>{e.preventDefault();const{target:t}=e;if(t&&"BUTTON"===t.tagName)if(t.classList.contains("popup__btn")){(0,a.default)();const e=document.querySelector(".popup-overlay");e&&e.remove()}else if(t.classList.contains("popup__close-btn")){const e=document.querySelector(".popup-overlay");e&&e.remove()}})),e}}},282:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0});const l=s(565),a=s(469);t.default=class{constructor(e,t,s){this.idx=e,this.lvl=t,this.state=s,this.idx=e,this.state=s,this.lvl=t,l.Emitter.on("init",(e=>{this.lvl=e,this.loadItem()})),l.Emitter.on("checkSelector",((e,t,s)=>{if(this.lvl=e,this.idx===t.id){const e=document.getElementById(`level_${this.idx}`);if(this.state=s,e){const t=e.querySelector(".level__indicator");t&&(this.state===a.States.Clue?t.classList.add("clue"):this.state===a.States.Completed&&t.classList.add("correct"))}}this.loadItem()})),l.Emitter.on("reset",(e=>{this.lvl=e,this.state=this.lvl.state,this.loadItem()}))}createLevelItem(){const e=document.createElement("li");return e.classList.add("level__item"),e.id=`level_${this.idx}`,e.innerHTML=`\n      <span class="level__num">${this.idx}</span>\n      <span class="level__indicator"></span>\n    `,e.addEventListener("click",(e=>{e.preventDefault();const{target:t}=e;if(t){const e=document.querySelector(".level");let s,i;const r=localStorage.getItem(a.Params.levels)||null;r&&(i=JSON.parse(r),s=i.find((e=>e.id===this.idx)),this.loadItem(t),localStorage.setItem(a.Params.currLevel,String(this.idx)),s&&(this.lvl=s,l.Emitter.emit("changeLevel",this.lvl)),e&&e.classList.remove("level--active"))}})),e}loadItem(e){const t=Number(localStorage.getItem(a.Params.currLevel))||1,s=e||document.getElementById(`level_${this.idx}`),l=document.querySelector(".level__item.active");if(s){const i=s.querySelector(".level__indicator");i&&(this.state===a.States.Clue?i.classList.add("clue"):this.state===a.States.Completed?i.classList.add("correct"):(i.classList.remove("clue"),i.classList.remove("correct"))),(e||t===this.idx)&&(l&&l.classList.remove("active"),s.classList.add("active"))}}}},570:function(e,t,s){var l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),s(735);const a=s(565),i=s(469),r=l(s(282)),n=l(s(80));t.default=class{constructor(e,t){this.lvl=e,this.lvls=t,this.lvl=e,this.lvls=t,this.currLevel=Number(localStorage.getItem(i.Params.currLevel))||1,this.clueCount=Number(localStorage.getItem(i.Params.clueCount))||0,this.correctAnswers=Number(localStorage.getItem(i.Params.correctanswers))||0,a.Emitter.on("reset",((e,t,s,l,a)=>{this.lvl=e,this.currLevel=t,this.clueCount=s,this.correctAnswers=l,this.lvls=a}))}createSideBar(){const e=document.createElement("aside"),t=document.createElement("ul"),s=document.createElement("button");return e.className="level",t.className="level__list",s.className="level__reset-btn",s.innerText="Reset Progress",this.lvls.forEach(((e,s)=>{const l=new r.default(s+1,e,e.state);t.append(l.createLevelItem())})),e.append(t,s),e.addEventListener("click",(e=>{e.preventDefault();const{target:t}=e;t&&"BUTTON"===t.tagName&&t.classList.contains("level__reset-btn")&&(0,n.default)()})),e}}},971:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),s(660);const l=s(565);t.default=class{constructor(e,t){this.lvl=e,this.lvls=t,this.lvl=e,this.lvls=t,l.Emitter.on("checkSelector",(e=>{this.lvl=e,this.loadViewer()})),l.Emitter.on("reset",((e,t,s,l,a)=>{this.lvl=e,this.lvls=a,this.loadViewer()})),l.Emitter.on("changeLevel",(e=>{this.lvl=e,this.loadViewer()})),l.Emitter.on("init",(e=>{this.lvl=e,this.loadViewer()}))}createViewer(){const e=document.createElement("section");return e.className="viewer content__viewer",e.innerHTML='\n    <header class="viewer__header">\n      <span>HTML Viewer</span>\n      <span>table.html</span>\n    </header>\n    <div class="workspace viewer__workspace">\n      <ul class="workspace__line-list">\n          <li class="workspace__line-item">1</li>\n          <li class="workspace__line-item">2</li>\n          <li class="workspace__line-item">3</li>\n          <li class="workspace__line-item">4</li>\n          <li class="workspace__line-item">5</li>\n          <li class="workspace__line-item">6</li>\n          <li class="workspace__line-item">7</li>\n          <li class="workspace__line-item">8</li>\n          <li class="workspace__line-item">9</li>\n          <li class="workspace__line-item">10</li>\n          <li class="workspace__line-item">11</li>\n          <li class="workspace__line-item">12</li>\n          <li class="workspace__line-item">13</li>\n          <li class="workspace__line-item">14</li>\n          <li class="workspace__line-item">15</li>\n          <li class="workspace__line-item">16</li>\n          <li class="workspace__line-item">17</li>\n          <li class="workspace__line-item">18</li>\n          <li class="workspace__line-item">19</li>\n          <li class="workspace__line-item">20</li>\n      </ul>\n      <p class="workspace__code"></p>\n    </div>\n    ',e}loadViewer(){const e=document.querySelector(".workspace__code");e&&(e.innerText=this.lvl.markup)}}},565:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Emitter=void 0;class s{static on(e,t){var s;const l=null!==(s=this.events[e])&&void 0!==s?s:new Set;l.add(t),this.events[e]=l}static emit(e,...t){var s;const l=null!==(s=this.events[e])&&void 0!==s?s:new Set;for(const e of l)e(...t)}static off(e,t){if(!this.events[e])return;const s=this.events[e].has(t)?Array.from(this.events[e]).indexOf(t):null;s&&-1!==s&&Array.from(this.events[e]).splice(s,1)}}t.Emitter=s,s.events={}},80:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0});const l=s(565),a=s(469);t.default=function(){const e=localStorage.getItem(a.Params.levels);if(localStorage.clear(),localStorage.setItem(a.Params.currLevel,JSON.stringify(1)),localStorage.setItem(a.Params.clueCount,JSON.stringify(0)),localStorage.setItem(a.Params.correctanswers,JSON.stringify(0)),e){const t=JSON.parse(e);t.map((e=>e.state=a.States.NotCompleted)),localStorage.setItem(a.Params.levels,JSON.stringify(t)),l.Emitter.emit("reset",t[0],1,0,0,t)}}},469:(e,t)=>{var s,l;Object.defineProperty(t,"__esModule",{value:!0}),t.States=t.Params=void 0,function(e){e.levels="levels",e.currLevel="level",e.clueCount="cluecount",e.clueStates="clueStates",e.correctanswers="correctAnswers"}(s||(t.Params=s={})),function(e){e.Clue="clue",e.Completed="completed",e.NotCompleted="notcompleted"}(l||(t.States=l={}))},262:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0});const l=s(469),a=[{id:1,state:l.States.NotCompleted,title:"Select all tea",selector:["tea","*"],markup:'<tea class="thai"></tea>\n            <tea class="matcha-latte"></tea>\n            <tea class="taiwanese"></tea>\n        '},{id:2,state:l.States.NotCompleted,title:"Select green tea",selector:[".green","tea:nth-child(2)"],markup:'<tea class="black"></tea>\n            <tea class="green"></tea>\n            <tea class="black"></tea>\n        '},{id:3,state:l.States.NotCompleted,title:"Select black tea and taiwanese tea",selector:["tea:nth-of-type(2n+2)","tea:nth-of-type(even)"],markup:'<tea class="matcha-latte"></tea>\n            <tea class="black"></tea>\n            <tea class="thai"></tea>\n            <tea class="taiwanese"></tea>\n        '},{id:4,state:l.States.NotCompleted,title:"Select strawberry tea",selector:["#strawberry","tea:first-child"],markup:'<tea id="strawberry"></tea>\n            <tea class="matcha-latte"></tea>\n            <icedtea class="lime"></icedtea>\n        '},{id:5,state:l.States.NotCompleted,title:"Select all drinks",selector:["*"],markup:'<tea class="black"></tea>\n            <icedtea class="lime"></icedtea>\n            <soda class="yuzu"></soda>\n        '},{id:6,state:l.States.NotCompleted,title:"Select lychee soda, using + selector",selector:[".melon+.lychee",".lychee"],markup:'<soda class="yuzu"></soda>\n            <soda class="melon"></soda>\n            <soda class="lychee"></soda>\n        '},{id:7,state:l.States.NotCompleted,title:"Select soda, using ~ selector",selector:["icedtea~soda"],markup:'<icedtea class="ginger"></icedtea>\n            <soda class="melon"></soda>\n            <tea class="thai"></tea>\n            <soda class="lychee"></soda>\n        '},{id:8,state:l.States.NotCompleted,title:"Select first icedtea",selector:["icedtea:first-child"],markup:'<icedtea class="thai"></icedtea>\n            <icedtea class="lychee"></icedtea>\n            <icedtea class="lime"></icedtea>\n        '},{id:9,state:l.States.NotCompleted,title:"Select all tea except last one",selector:["tea:not(:last-child)"],markup:'<tea class="green"></tea>\n            <tea class="taiwanese"></tea>\n            <tea class="matcha-latte"></tea>\n        '},{id:10,state:l.States.NotCompleted,title:"Select only one drink",selector:["icedtea:only-of-type"],markup:'<tea class="thai"></tea>\n            <icedtea class="lychee"></icedtea>\n            <soda class="yuzu"></soda>\n            <tea id="strawberry""></tea>\n            <tea class="black"></tea>\n            <soda class="melon"></soda>\n        '}];t.default=a},607:function(e,t,s){var l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),s(213),(0,l(s(962)).default)()},905:(e,t,s)=>{e.exports=s.p+"img/github.svg"},395:(e,t,s)=>{e.exports=s.p+"img/rs_school_js.svg"}},t={};function s(l){var a=t[l];if(void 0!==a)return a.exports;var i=t[l]={exports:{}};return e[l].call(i.exports,i,i.exports,s),i.exports}s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;s.g.importScripts&&(e=s.g.location+"");var t=s.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var l=t.getElementsByTagName("script");if(l.length)for(var a=l.length-1;a>-1&&!e;)e=l[a--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),s.p=e})(),s(607)})();
//# sourceMappingURL=index.js.map